import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

url = 'https://data.cityofnewyork.us/api/views/6fi9-q3ta/rows.csv?accessType=DOWNLOAD'
df = pd.read_csv(url)


print(df.columns)


df['hour_beginning'] = pd.to_datetime(df['hour_beginning'], format='%m/%d/%Y %I:%M:%S %p')

df['day_name'] = df['hour_beginning'].dt.day_name()
#print(df.head())
#print(df['day_name'])

df['weekday'] = df['hour_beginning'].dt.day_name()

weekdays = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday']
df_weekdays = df[df['weekday'].isin(weekdays)]
daily_counts = df_weekdays.groupby('weekday')['Pedestrians'].sum()
weekday_counts = df_weekdays.groupby('weekday')['Pedestrians'].sum().reindex(weekdays)

plt.figure(figsize=(5, 6))
plt.plot(df['hour_beginning'], df['Pedestrians'], color='blue')
plt.title('Pedestrian Counts Over Time')
plt.xlabel('Time')
plt.ylabel('Pedestrian Count')
plt.grid(True)
plt.tight_layout()
plt.show()
plt.savefig('plot.png')

'''
Hello homework grading team, i'm not sure why my graph is so messy, is it supposed to look like that? I'm pretty sure I
have coded it correctly, but not too sure.
'''
